(function(b,f,g,a){var c;c=function(){return function(a,e){this.elem=a;this.$elem=b(a);this.options=e;this.metadata=this.$elem.data("plugin-options")}}();c.prototype={defaults:{width:800,height:530,autoSize:!0,touchNav:!0,mouseNav:!0,prevnextNav:!0,prevnextAutoHide:!0,pagerNav:!0,startSlide:1,autoPlay:!0,delay:0,interval:3E3,repeat:!0,playReverse:!1,hoverPause:!0,captionAutoHide:!1,animationCssTransitions:!0,animationDuration:500,animationTimingFunction:"linear",prevButtonClass:"slide-prev",nextButtonClass:"slide-next",
prevButtonImage:"images/prev.png",nextButtonImage:"images/next.png",activeSlideClass:"es-active",slideCaptionClass:"es-caption",pagerClass:"es-pager",pagerImage:"images/pagericon.png"},init:function(){var d,e,c,h,j,g,i,l,m;d=this;d.config=b.extend({},d.defaults,d.options,d.metadata);d.data=b.data(d);b.data(d,"currentSlide",d.config.playReverse&&1==d.config.startSlide?d.$elem.children().length-1:d.config.startSlide-1);b.data(d,"nextSlide",d.data.currentSlide);b.data(d,"totalslides",d.$elem.children().length);
b.data(d,"browserEnginePrefix",d._getBrowserEnginePrefix());b.data(d,"isPlaying",!1);b.data(d,"isAnimating",!1);b.data(d,"playPaused",!1);b.data(d,"justTouched",!1);b.data(d,"isMoving",!1);b.data(d,"width",d.config.width);d.$elem.addClass("slider");d.$elem.css({position:"relative"});d.$elem.wrapInner("<div class='slide-wrapper'>",d.$elem).children();d.$elem.wrapInner("<div class='slide-container'>",b(".slide-wrapper",d.$elem)).children();d.$elem.wrapInner("<div class='slide-dragcontainer'>",b(".slide-container",
d.$elem)).children();b(".slide-container",d.$elem).css({position:"relative"});m=b(".slide-dragcontainer",d.$elem);i=b(".slide-wrapper",d.$elem);l=i.children();d.config.prevnextNav&&(i.after("<div class='"+d.config.nextButtonClass+"'>"),i.after("<div class='"+d.config.prevButtonClass+"'>"),c=b("."+d.config.nextButtonClass,d.$elem),e=b("."+d.config.prevButtonClass,d.$elem),h=c.add(e),d.config.prevnextAutoHide&&(h.hide(),d.$elem.hover(function(){h.fadeIn("fast")},function(){h.fadeOut("fast")})),e.on("click",
function(){d.previous()}),c.on("click",function(){d.next()}));d.config.pagerNav&&(d.$elem.append("<ul class='"+d.config.pagerClass+"'>"),l.each(function(){b("<li />").appendTo(b("."+d.config.pagerClass,d.$elem)).attr("rel",b(this).index()).css({"background-image":"url('"+d.config.pagerImage+"')"}).on("click",function(){b.data(d,"nextSlide",parseInt(b(this).attr("rel")));d._prepareslides(!0);d._slide(!0);d._manualInterference()})}));l.each(function(){j=b(this);g=j.data("plugin-slide-caption");g!==
a&&("IMG"==this.tagName?(j.wrap("<div>"),j.after("<div class='"+d.config.slideCaptionClass+"'>"),j.next().append(g)):(j.append("<div class='"+d.config.slideCaptionClass+"'>"),j.children().last().append(g)),d.config.captionAutoHide&&(b("."+d.config.slideCaptionClass,d.$elem).hide(),d.$elem.hover(function(){b("."+d.config.slideCaptionClass,d.$elem).fadeIn("fast")},function(){b("."+d.config.slideCaptionClass,d.$elem).fadeOut("fast")})))});i.children().addClass("slide").css({position:"absolute",top:0,
left:0,width:d.data.width,height:d.config.height,zIndex:0,display:"none",webkitBackfaceVisibility:"hidden"});e=l.height();i.css({position:"relative",left:0,height:e});b(".slide-container",d.$elem).css({width:d.data.width,overflow:"hidden",height:e});d.config.touchNav&&(m.on("touchstart",function(a){var b=a.originalEvent.touches[0];a.preventDefault();d._onMoveStart(b.pageX,b.pageY);return a.stopPropagation()}),m.on("touchmove",function(a){var b=a.originalEvent.touches[0];a.preventDefault();d._onMove(b.pageX,
b.pageY);return a.stopPropagation()}),m.on("touchend",function(a){a.preventDefault();d._onMoveEnd();return a.stopPropagation()}));d.config.mouseNav&&(m.css("cursor","pointer"),m.on("dragstart",function(){return!1}),m.on("mousedown",function(a){d._onMoveStart(a.clientX,a.clientY);b(f).attr("unselectable","on").on("selectstart",!1).css("user-select","none").css("UserSelect","none").css("MozUserSelect","none");return a.stopPropagation()}),b(f).on("mousemove",function(a){d._onMove(a.clientX,a.clientY);
return a.stopPropagation()}),b(f).on("mouseup",function(a){d._onMoveEnd();b(f).removeAttr("unselectable").unbind("selectstart").css("user-select",null).css("UserSelect",null).css("MozUserSelect",null);return a.stopPropagation()}));d.config.autoSize&&(setTimeout(function(){d._resize()},50),b(f).resize(function(){return setTimeout(function(){d._resize()},50)}));d._prepareslides();d.gotoSlide(d.data.currentSlide);d.config.autoPlay&&setTimeout(function(){d.start()},d.config.delay);return this},previous:function(){var a;
b.data(this,"slideDirection","previous");a=(this.data.nextSlide-1)%this.data.totalslides;if(!this.config.repeat&&0>this.data.nextSlide-1)this.config.playReverse&&(b.data(this,"playPaused",!0),this.stop());else return this.data.playPaused&&0<this.data.nextSlide-1&&(b.data(this,"playPaused",!1),this.start()),b.data(this,"nextSlide",a),this._slide()},next:function(){var a;b.data(this,"slideDirection","next");a=(this.data.nextSlide+1)%this.data.totalslides;if(!this.config.repeat&&this.data.nextSlide+
1>this.data.totalslides-1)this.config.playReverse||(b.data(this,"playPaused",!0),this.stop());else return this.data.playPaused&&this.data.nextSlide+1<this.data.totalslides-1&&(b.data(this,"playPaused",!1),this.start()),b.data(this,"nextSlide",a),this._slide()},start:function(){var a,e,c;a=this;e=b(".slide-container",a.$elem);a.data.isPlaying&&a.data.playTimer&&clearInterval(a.data.playTimer);c=setInterval(function(){a.config.playReverse?a.previous():a.next()},a.config.interval);b.data(a,"playTimer",
c);a.config.hoverPause&&(e.unbind(),e.hover(function(){b.data(a,"playPaused",!0);return a.stop()},function(){b.data(a,"playPaused",!1);return a.start()}));b.data(a,"isPlaying",!0)},stop:function(){var a;a=b(".slide-container",this.$elem);clearInterval(this.data.playTimer);b.data(this,"playTimer",null);this.config.hoverPause&&!this.data.playPaused&&a.unbind();b.data(this,"isPlaying",!1)},gotoSlide:function(a){var e,c,h;b.data(this,"nextSlide",a%this.data.totalslides);e=a%this.data.totalslides;b.data(this,
"currentSlide",e);a=b(".slide-wrapper",this.$elem);c=a.children();e=a.children(":eq("+e+")");h=e.position().left;this._setActive(c,e);this.config.animationCssTransitions&&this.data.browserEnginePrefix?this._transition(-h,0):a.position().left=-h;this._alignSlides(h)},_manualInterference:function(){this.data.isPlaying&&(this.stop(),this.start())},_prepareslides:function(a){var e,c,h,f,g;e=this;c=b(".slide-wrapper",e.$elem).children();h=e.data.width;f=Math.floor(e.data.totalslides/2);g=0;c.each(function(){b(this).css({display:"block",
left:h*g,zIndex:10});g++;!a&&e.config.repeat&&g>f&&(g=e.data.totalslides%2?-f:-(f-1))})},_onMoveStart:function(a,e){this.data.isMoving||b.data(this,"touchTime",Number(new Date));b.data(this,"touchedX",a);b.data(this,"touchedY",e);b.data(this,"isMoving",!0);this.data.isPlaying&&(b.data(this,"playPaused",!0),this.stop())},_onMove:function(a,e){var c,h,f;if(this.data.isMoving&&(c=b(".slide-wrapper",this.$elem),b.data(this,"scrolling",Math.abs(a-this.data.touchedX)<Math.abs(e-this.data.touchedY)),!this.data.scrolling&&
!this.data.isAnimating))c=c.children(":eq("+this.data.nextSlide+")"),c=c.position().left,h=a-this.data.touchedX,f=0.1*this.data.width,this.config.repeat||(0>=this.data.currentSlide&&-h<-f?h=f:this.data.currentSlide>=this.data.totalslides-1&&-h>f&&(h=-f)),this._transition(-c+h,0)},_onMoveEnd:function(){var a,e,c,h,f;if(this.data.isMoving)a=b(".slide-wrapper",this.$elem),b.data(this,"justTouched",!0),e=a.children(":eq("+this.data.nextSlide+")").position().left,c=0.5*this.data.width,h=0.1*this.data.width,
f=250>Number(new Date)-this.data.touchTime,!this.config.repeat&&(a.position().left<-e&&this.data.currentSlide>=this.data.totalslides-1||a.position().left>-e&&0>=this.data.currentSlide)?this._transition(-e,0.15):a.position().left>-e+c||a.position().left>-e+h&&f?this.previous():a.position().left<-(e+c)||a.position().left<-(e+h)&&f?this.next():this._transition(-e,0.15),this._alignSlides(e),b.data(this,"isMoving",!1),b.data(this,"justTouched",!1),this.data.playPaused&&this.start()},_alignSlides:function(d){var e,
c,h,f,g,i,l;if(this.config.repeat){e=b(".slide-wrapper",this.$elem);c=e.children();if(d===a)e=e.children(":eq("+this.data.nextSlide+")"),d=e.position().left;d=Math.round(d,0);e=Math.ceil(this.data.totalslides/2);h=this.data.width;f=0;c.each(function(){b(this).position().left>d-h&&f++});e-=f;0>e&&(e=0==this.data.totalslides%2?e+1:e);for(g=0;g<Math.abs(e);g++)i=[].reduce.call(c,function(a,d){return b(a).offset().left<b(d).offset().left?a:d}),l=[].reduce.call(c,function(a,d){return b(a).offset().left>
b(d).offset().left?a:d}),0<e?b(i).css("left",Math.round(b(l).position().left+h)):b(l).css("left",Math.round(b(i).position().left-h))}},_slide:function(a){var e,c,h,f,g,i;e=this;c=e.data.nextSlide;h=b(".slide-wrapper",e.$elem);f=h.children();g=h.children(":eq("+c+")");i=Math.round(g.position().left);e._setActive(f,g);a||e._alignSlides(i);b.data(e,"isAnimating",!0);e.config.animationCssTransitions&&e.data.browserEnginePrefix?(e._transition(-i,e.data.justTouched?0.5:1),h.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",
function(){b.data(e,"currentSlide",c);h.unbind("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd");a&&e._alignSlides(i)})):h.stop().animate({left:-i},e.config.animationDuration,function(){b.data(e,"currentSlide",c);b.data(e,"isAnimating",!1);b.data(e,"justTouched",!1)})},_transition:function(d,e){var c,f,g;c=this;f=b(".slide-wrapper",c.$elem);if(e===a||0>e)e=1;g=c.data.browserEnginePrefix.css;f[0].style[g+"TransitionDuration"]=c.config.animationDuration*e+"ms";f[0].style[g+
"TransitionTimingFunction"]=c.config.animationTimingFunction;f[0].style[g+"Transform"]="translateX("+d+"px)";f.on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){b.data(c,"isAnimating",!1);b.data(c,"justTouched",!1);f.unbind("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd")})},_setActive:function(a,c){var f;f=this.config.activeSlideClass;a.removeClass(f);c.addClass(f);this.config.pagerNav&&(f=b("."+this.config.pagerClass,
this.$elem),f.children().removeClass("act"),f.find("[rel="+c.index()+"]").addClass("act"))},_resize:function(){var a,c;this.data.isPlaying&&(b.data(this,"playPaused",!0),this.stop());a=this.$elem.width();c=a*(this.config.height/this.config.width);b.data(this,"width",a);b(".slide",this.$elem).css({width:a,height:c});c=b(".slide-wrapper",this.$elem).children().height();b(".slide-wrapper",this.$elem).css({height:c});b(".slide-container",this.$elem).css({width:a,height:c});this.data.playPaused&&(b.data(this,
"playPaused",!1),this.start());this._prepareslides();this.gotoSlide(this.data.currentSlide)},_getBrowserEnginePrefix:function(){var a,b;a=["Moz","Webkit","Khtml","O","ms"];for(b=0;b<a.length;){if("string"===typeof g.body.style[a[b]+"Transition"])return{css:a[b]};b++}return!1}};c.defaults=c.prototype.defaults;b.fn.excoloSlider=function(a){return this.each(function(){(new c(this,a)).init()})}})(jQuery,window,document);
(function(b){b.fn.spinner=function(f){return this.each(function(){function g(b){h.val(d()+b);a(h)}function a(a){clearTimeout(k.data("timeout"));var b=c(a);isNaN(+b)||b<e.min||h.trigger("update",[a,b])}function c(a){var b=d();b<=e.min?n.attr("disabled","disabled"):n.removeAttr("disabled");a.toggleClass("invalid",isNaN(+b)||b<e.min).toggleClass("passive",0===b);if(isNaN(+b)||b<e.min){var f=setTimeout(function(){h.val(k.data("lastValidValue"));c(a)},500);k.data("timeout",f)}else k.data("lastValidValue",
b);return b}function d(a){a=a||h;return parseInt(a.val()||0,10)}var e=b.extend({value:0,min:0},f),k=b("<div></div>");k.addClass("spinner");var h=b(this).addClass("value").attr("maxlength","2").val(e.value).bind("keyup paste change",function(c){var e=b(this);38==c.keyCode?g(1):40==c.keyCode?g(-1):d(e)!=k.data("lastValidValue")&&a(e)});h.wrap(k);var j=b('<button class="increase">+</button>').click(function(){g(1)}),n=b('<button class="decrease">-</button>').click(function(){g(-1)});c(h);k.data("lastValidValue",
e.value);h.before(n);h.after(j)})}})(jQuery);$(function(){$(".bankList li").click(function(){$(this).addClass("banSty").siblings("li").removeClass("banSty")});$(".tianjiayinhang").click(function(){$(".addYinhang").fadeIn()});$(".glyphicon-remove").click(function(){$(".addYinhang").fadeOut()});$(".proinfoList:first").fadeIn();$(".zhaieq a").click(function(){$(this).addClass("zhaiCur").siblings("a").removeClass("zhaiCur");var b=$(this).index();$(".proinfoList").eq(b).fadeIn().siblings(".proinfoList").hide()})});
var currentModle=1,curWwwPath=window.document.location.href,pathName=window.document.location.pathname,pos=curWwwPath.indexOf(pathName),localhostPath=curWwwPath.substring(0,pos),projectName=pathName.substring(0,pathName.substr(1).indexOf("/")+1),ctx=localhostPath+projectName;2==currentModle&&(ctx=localhostPath);function changeImgUrlToSmall(b){var f=b.substring(0,b.lastIndexOf("/")),b=b.substring(b.lastIndexOf("/")+1);return f+"/"+("s_"+b)}
function getFirstImg(b,f){if(0==f.length||""==f)return b+"/images/default.jpg";var g="";return 0<f.indexOf(",")?(g=f.split(","),b+g[0]):b+f}function alertMsg(b,f){$.confirm({title:"",content:b,autoClose:"\u786e\u5b9a|3000",buttons:{"\u786e\u5b9a":function(){if(f&&""!=f&&void 0!=f)document.location.href=ctx+f}}})}
function moneyFormatter(b){b=Math.round(100*(b-0))/100;b=Math.floor(b)==b?b+".00":Math.floor(10*b)==10*b?b+"0":b;b=""+b;r=/(\d+)(\d{3})/;for(fs=""+b;r.test(b);)b=b.replace(r,"$1,$2");return"\uffe5"+b}function moneyFormatterNoY(b){b=Math.round(100*(b-0))/100;b=Math.floor(b)==b?b+".00":Math.floor(10*b)==10*b?b+"0":b;b=""+b;r=/(\d+)(\d{3})/;for(fs=""+b;r.test(b);)b=b.replace(r,"$1,$2");return b}function formatPercent(b){b=parseFloat((""+b).replace(/[\$,%]/g,"")).toFixed(2);return isNaN(b)?0:b}
function formatPrice(b){var f="";if(null==b||""==b)f="-";else{b=Math.round(100*(b-0))/1E4;b=Math.floor(b)==b?b+".00":Math.floor(10*b)==10*b?b+"0":b;b=""+b;r=/(\d+)(\d{3})/;for(fs=""+b;r.test(b);)b=b.replace(r,"$1,$2");f=b}return f}function formatValue(b){var f="";return null==b?"-":b}function dateFormat(b){for(var b=b+"",f=[],g=0;g<b.length;g++)f[g]=b.charAt(g);b="";for(g=0;g<f.length;g++)b+=f[g],0==(g+1)%2&&2<g&&7>g?b+="-":0==(g+1)%2&&7<g&&g<f.length-1?b+=":":7==g&&(b+=" ");return b}
String.prototype.endWith=function(b){return null==b||""==b||0==this.length||b.length>this.length?!1:this.substring(this.length-b.length)==b?!0:!1};String.prototype.startWith=function(b){return null==b||""==b||0==this.length||b.length>this.length?!1:this.substr(0,b.length)==b?!0:!1};if("undefined"===typeof jQuery)throw Error("jquery-confirm requires jQuery");var jconfirm,Jconfirm;
(function(b,f){b.fn.confirm=function(a,c){"undefined"===typeof a&&(a={});"string"===typeof a&&(a={content:a,title:c?c:!1});b(this).each(function(){var d=b(this);d.attr("jc-attached")?console.warn("jConfirm has already been attached to this element ",d[0]):(d.on("click",function(c){c.preventDefault();c=b.extend({},a);if(d.attr("data-title"))c.title=d.attr("data-title");if(d.attr("data-content"))c.content=d.attr("data-content");if("undefined"==typeof c.buttons)c.buttons={};c.$target=d;if(d.attr("href")&&
0==Object.keys(c.buttons).length){var f=b.extend(!0,{},jconfirm.pluginDefaults.defaultButtons,(jconfirm.defaults||{}).defaultButtons||{}),h=Object.keys(f)[0];c.buttons=f;c.buttons[h].action=function(){location.href=d.attr("href")}}c.closeIcon=!1;b.confirm(c)}),d.attr("jc-attached",!0))});return b(this)};b.confirm=function(a,c){"undefined"===typeof a&&(a={});"string"===typeof a&&(a={content:a,title:c?c:!1});if("object"!=typeof a.buttons)a.buttons={};if(0==Object.keys(a.buttons).length){var d=b.extend(!0,
{},jconfirm.pluginDefaults.defaultButtons,(jconfirm.defaults||{}).defaultButtons||{});a.buttons=d}return jconfirm(a)};b.alert=function(a,c){"undefined"===typeof a&&(a={});"string"===typeof a&&(a={content:a,title:c?c:!1});if("object"!=typeof a.buttons)a.buttons={};if(0==Object.keys(a.buttons).length){var d=b.extend(!0,{},jconfirm.pluginDefaults.defaultButtons,(jconfirm.defaults||{}).defaultButtons||{}),e=Object.keys(d)[0];a.buttons[e]=d[e]}return jconfirm(a)};b.dialog=function(a,b){"undefined"===typeof a&&
(a={});"string"===typeof a&&(a={content:a,title:b?b:!1,closeIcon:function(){}});a.buttons={};if("undefined"==typeof a.closeIcon)a.closeIcon=function(){};a.confirmKeys=[13];return jconfirm(a)};jconfirm=function(a){"undefined"===typeof a&&(a={});var c=b.extend(!0,{},jconfirm.pluginDefaults);jconfirm.defaults&&(c=b.extend(!0,c,jconfirm.defaults));c=b.extend(!0,{},c,a);a=new Jconfirm(c);jconfirm.instances.push(a);return a};Jconfirm=function(a){b.extend(this,a);this._init()};Jconfirm.prototype={_init:function(){var a=
this;if(!jconfirm.instances.length)jconfirm.lastFocused=b("body").find(":focus");this._id=Math.round(99999*Math.random());this.contentParsed=b(document.createElement("div"));this.lazyOpen||setTimeout(function(){a.open()},0)},_buildHTML:function(){var a=this;this._parseAnimation(this.animation,"o");this._parseAnimation(this.closeAnimation,"c");this._parseBgDismissAnimation(this.backgroundDismissAnimation);this._parseColumnClass(this.columnClass);this._parseTheme(this.theme);this._parseType(this.type);
var c=b(this.template);c.find(".jconfirm-box").addClass(this.animationParsed).addClass(this.backgroundDismissAnimationParsed).addClass(this.typeParsed);this.typeAnimated&&c.find(".jconfirm-box").addClass("jconfirm-type-animated");this.useBootstrap?(c.find(".jc-bs3-row").addClass(this.bootstrapClasses.row),c.find(".jc-bs3-row").addClass("justify-content-md-center justify-content-sm-center justify-content-xs-center justify-content-lg-center"),c.find(".jconfirm-box-container").addClass(this.columnClassParsed),
this.containerFluid?c.find(".jc-bs3-container").addClass(this.bootstrapClasses.containerFluid):c.find(".jc-bs3-container").addClass(this.bootstrapClasses.container)):c.find(".jconfirm-box").css("width",this.boxWidth);this.titleClass&&c.find(".jconfirm-title-c").addClass(this.titleClass);c.addClass(this.themeParsed);var d="jconfirm-box"+this._id;c.find(".jconfirm-box").attr("aria-labelledby",d).attr("tabindex",-1);c.find(".jconfirm-content").attr("id",d);null!==this.bgOpacity&&c.find(".jconfirm-bg").css("opacity",
this.bgOpacity);this.rtl&&c.addClass("jconfirm-rtl");this.$el=c.appendTo(this.container);this.$jconfirmBoxContainer=this.$el.find(".jconfirm-box-container");this.$jconfirmBox=this.$body=this.$el.find(".jconfirm-box");this.$jconfirmBg=this.$el.find(".jconfirm-bg");this.$title=this.$el.find(".jconfirm-title");this.$titleContainer=this.$el.find(".jconfirm-title-c");this.$content=this.$el.find("div.jconfirm-content");this.$contentPane=this.$el.find(".jconfirm-content-pane");this.$icon=this.$el.find(".jconfirm-icon-c");
this.$closeIcon=this.$el.find(".jconfirm-closeIcon");this.$holder=this.$el.find(".jconfirm-holder");this.$btnc=this.$el.find(".jconfirm-buttons");this.$scrollPane=this.$el.find(".jconfirm-scrollpane");a.setStartingPoint();this._contentReady=b.Deferred();this._modalReady=b.Deferred();this.$holder.css({"padding-top":this.offsetTop,"padding-bottom":this.offsetBottom});this.setTitle();this.setIcon();this._setButtons();this._parseContent();this.initDraggable();this.isAjax&&this.showLoading(!1);b.when(this._contentReady,
this._modalReady).then(function(){if(a.isAjaxLoading)setTimeout(function(){a.isAjaxLoading=!1;a.setContent();a.setTitle();a.setIcon();setTimeout(function(){a.hideLoading(!1);a._updateContentMaxHeight()},100);if("function"===typeof a.onContentReady)a.onContentReady()},50);else if(a._updateContentMaxHeight(),a.setTitle(),a.setIcon(),"function"===typeof a.onContentReady)a.onContentReady();a.autoClose&&a._startCountDown()});this._watchContent();if("none"===this.animation)this.animationBounce=this.animationSpeed=
1;this.$body.css(this._getCSS(this.animationSpeed,this.animationBounce));this.$contentPane.css(this._getCSS(this.animationSpeed,1));this.$jconfirmBg.css(this._getCSS(this.animationSpeed,1));this.$jconfirmBoxContainer.css(this._getCSS(this.animationSpeed,1))},_typePrefix:"jconfirm-type-",typeParsed:"",_parseType:function(a){this.typeParsed=this._typePrefix+a},setType:function(a){var b=this.typeParsed;this._parseType(a);this.$jconfirmBox.removeClass(b).addClass(this.typeParsed)},themeParsed:"",_themePrefix:"jconfirm-",
setTheme:function(a){var b=this.theme;this.theme=a||this.theme;this._parseTheme(this.theme);b&&this.$el.removeClass(b);this.$el.addClass(this.themeParsed);this.theme=a},_parseTheme:function(a){var c=this,a=a.split(",");b.each(a,function(d,e){-1===e.indexOf(c._themePrefix)&&(a[d]=c._themePrefix+b.trim(e))});this.themeParsed=a.join(" ").toLowerCase()},backgroundDismissAnimationParsed:"",_bgDismissPrefix:"jconfirm-hilight-",_parseBgDismissAnimation:function(a){var c=a.split(","),d=this;b.each(c,function(a,
f){-1===f.indexOf(d._bgDismissPrefix)&&(c[a]=d._bgDismissPrefix+b.trim(f))});this.backgroundDismissAnimationParsed=c.join(" ").toLowerCase()},animationParsed:"",closeAnimationParsed:"",_animationPrefix:"jconfirm-animation-",setAnimation:function(a){this.animation=a||this.animation;this._parseAnimation(this.animation,"o")},_parseAnimation:function(a,c){var c=c||"o",d=a.split(","),e=this;b.each(d,function(a,c){-1===c.indexOf(e._animationPrefix)&&(d[a]=e._animationPrefix+b.trim(c))});var f=d.join(" ").toLowerCase();
"o"===c?this.animationParsed=f:this.closeAnimationParsed=f;return f},setCloseAnimation:function(a){this.closeAnimation=a||this.closeAnimation;this._parseAnimation(this.closeAnimation,"c")},setAnimationSpeed:function(a){this.animationSpeed=a||this.animationSpeed},columnClassParsed:"",setColumnClass:function(a){this.useBootstrap?(this.columnClass=a||this.columnClass,this._parseColumnClass(this.columnClass),this.$jconfirmBoxContainer.addClass(this.columnClassParsed)):console.warn("cannot set columnClass, useBootstrap is set to false")},
_updateContentMaxHeight:function(){this.$contentPane.css({"max-height":b(f).height()-(this.$jconfirmBox.outerHeight()-this.$contentPane.outerHeight())-(this.offsetTop+this.offsetBottom)+"px"})},setBoxWidth:function(a){this.useBootstrap?console.warn("cannot set boxWidth, useBootstrap is set to true"):(this.boxWidth=a,this.$jconfirmBox.css("width",a))},_parseColumnClass:function(a){a=a.toLowerCase();switch(a){case "xl":case "xlarge":a="col-md-12";break;case "l":case "large":a="col-md-8 col-md-offset-2";
break;case "m":case "medium":a="col-md-6 col-md-offset-3";break;case "s":case "small":a="col-md-4 col-md-offset-4";break;case "xs":case "xsmall":a="col-md-2 col-md-offset-5";break}this.columnClassParsed=a},initDraggable:function(){var a=this,c=this.$titleContainer;this.resetDrag();this.draggable&&(c.on("mousedown",function(b){c.addClass("jconfirm-hand");a.mouseX=b.clientX;a.mouseY=b.clientY;a.isDrag=!0}),b(f).on("mousemove."+this._id,function(b){if(a.isDrag)a.movingX=b.clientX-a.mouseX+a.initialX,
a.movingY=b.clientY-a.mouseY+a.initialY,a.setDrag()}),b(f).on("mouseup."+this._id,function(){c.removeClass("jconfirm-hand");if(a.isDrag)a.isDrag=!1,a.initialX=a.movingX,a.initialY=a.movingY}))},resetDrag:function(){this.isDrag=!1;this.mouseY=this.mouseX=this.movingY=this.movingX=this.initialY=this.initialX=0;this.$jconfirmBoxContainer.css("transform","translate(0px, 0px)")},setDrag:function(){if(this.draggable){this.alignMiddle=!1;var a=this.$jconfirmBox.outerWidth(),c=this.$jconfirmBox.outerHeight(),
d=b(f).width(),e=b(f).height();if(0===this.movingX%1||0===this.movingY%1){if(this.dragWindowBorder){c=e/2-c/2-this.dragWindowGap;a=d/2-a/2-this.dragWindowGap;if(0>a+this.movingX)this.movingX=-a;else if(0>a-this.movingX)this.movingX=a;if(0>c+this.movingY)this.movingY=-c;else if(0>c-this.movingY)this.movingY=c}this.$jconfirmBoxContainer.css("transform","translate("+this.movingX+"px, "+this.movingY+"px)")}}},_scrollTop:function(){if("undefined"!==typeof pageYOffset)return pageYOffset;var a=document.body,
b=document.documentElement,b=b.clientHeight?b:a;return b.scrollTop},_watchContent:function(){var a=this;this._timer&&clearInterval(this._timer);var c=0;this._timer=setInterval(function(){if(a.smoothContent){var d=a.$content.outerHeight()||0;d!==c&&(a.$contentPane.css({height:d}).scrollTop(0),c=d);d=b(f).height();a.offsetTop+a.offsetBottom+a.$jconfirmBox.height()-a.$contentPane.height()+a.$content.height()<d?a.$contentPane.addClass("no-scroll"):a.$contentPane.removeClass("no-scroll")}},this.watchInterval)},
_overflowClass:"jconfirm-overflow",_hilightAnimating:!1,highlight:function(){this.hiLightModal()},hiLightModal:function(){var a=this;if(!this._hilightAnimating){a.$body.addClass("hilight");var b=parseFloat(a.$body.css("animation-duration"))||2;this._hilightAnimating=!0;setTimeout(function(){a._hilightAnimating=!1;a.$body.removeClass("hilight")},1E3*b)}},_bindEvents:function(){var a=this;this.boxClicked=!1;this.$scrollPane.click(function(){if(!a.boxClicked){var b=!1,c=!1,c="function"==typeof a.backgroundDismiss?
a.backgroundDismiss():a.backgroundDismiss;"string"==typeof c&&"undefined"!=typeof a.buttons[c]?(b=c,c=!1):c="undefined"==typeof c||!0==!!c?!0:!1;b&&(b=a.buttons[b].action.apply(a),c="undefined"==typeof b||!!b);c?a.close():a.hiLightModal()}a.boxClicked=!1});this.$jconfirmBox.click(function(){a.boxClicked=!0});var c=!1;b(f).on("jcKeyDown."+a._id,function(){c||(c=!0)});b(f).on("keyup."+a._id,function(b){c&&(a.reactOnKey(b),c=!1)});b(f).on("resize."+this._id,function(){a._updateContentMaxHeight();setTimeout(function(){a.resetDrag()},
100)})},_cubic_bezier:"0.36, 0.55, 0.19",_getCSS:function(a,b){return{"-webkit-transition-duration":a/1E3+"s","transition-duration":a/1E3+"s","-webkit-transition-timing-function":"cubic-bezier("+this._cubic_bezier+", "+b+")","transition-timing-function":"cubic-bezier("+this._cubic_bezier+", "+b+")"}},_setButtons:function(){var a=this,c=0;if("object"!==typeof this.buttons)this.buttons={};b.each(this.buttons,function(d,e){c+=1;"function"===typeof e&&(a.buttons[d]=e={action:e});a.buttons[d].text=e.text||
d;a.buttons[d].btnClass=e.btnClass||"btn-default";a.buttons[d].action=e.action||function(){};a.buttons[d].keys=e.keys||[];a.buttons[d].isHidden=e.isHidden||!1;a.buttons[d].isDisabled=e.isDisabled||!1;b.each(a.buttons[d].keys,function(b,c){a.buttons[d].keys[b]=c.toLowerCase()});var f=b('<button type="button" class="btn"></button>').html(a.buttons[d].text).addClass(a.buttons[d].btnClass).prop("disabled",a.buttons[d].isDisabled).css("display",a.buttons[d].isHidden?"none":"").click(function(b){b.preventDefault();
b=a.buttons[d].action.apply(a,[a.buttons[d]]);a.onAction.apply(a,[d,a.buttons[d]]);a._stopCountDown();("undefined"===typeof b||b)&&a.close()});a.buttons[d].el=f;a.buttons[d].setText=function(a){f.html(a)};a.buttons[d].addClass=function(a){f.addClass(a)};a.buttons[d].removeClass=function(a){f.removeClass(a)};a.buttons[d].disable=function(){a.buttons[d].isDisabled=!0;f.prop("disabled",!0)};a.buttons[d].enable=function(){a.buttons[d].isDisabled=!1;f.prop("disabled",!1)};a.buttons[d].show=function(){a.buttons[d].isHidden=
!1;f.css("display","")};a.buttons[d].hide=function(){a.buttons[d].isHidden=!0;f.css("display","none")};a["$_"+d]=a["$$"+d]=f;a.$btnc.append(f)});0===c&&this.$btnc.hide();if(null===this.closeIcon&&0===c)this.closeIcon=!0;this.closeIcon?(this.closeIconClass&&this.$closeIcon.html('<i class="'+this.closeIconClass+'"></i>'),this.$closeIcon.click(function(b){b.preventDefault();var c=b=!1,c="function"==typeof a.closeIcon?a.closeIcon():a.closeIcon;"string"==typeof c&&"undefined"!=typeof a.buttons[c]?(b=c,
c=!1):c="undefined"==typeof c||!0==!!c?!0:!1;b&&(b=a.buttons[b].action.apply(a),c="undefined"==typeof b||!!b);c&&a.close()}),this.$closeIcon.show()):this.$closeIcon.hide()},setTitle:function(a,b){b=b||!1;if("undefined"!==typeof a)if("string"==typeof a)this.title=a;else if("function"==typeof a){"function"==typeof a.promise&&console.error("Promise was returned from title function, this is not supported.");var d=a();this.title="string"==typeof d?d:!1}else this.title=!1;if(!this.isAjaxLoading||b)this.$title.html(this.title||
""),this.updateTitleContainer()},setIcon:function(a,b){b=b||!1;if("undefined"!==typeof a)if("string"==typeof a)this.icon=a;else if("function"===typeof a){var d=a();this.icon="string"==typeof d?d:!1}else this.icon=!1;if(!this.isAjaxLoading||b)this.$icon.html(this.icon?'<i class="'+this.icon+'"></i>':""),this.updateTitleContainer()},updateTitleContainer:function(){!this.title&&!this.icon?this.$titleContainer.hide():this.$titleContainer.show()},setContentPrepend:function(a){a&&this.contentParsed.prepend(a)},
setContentAppend:function(a){a&&this.contentParsed.append(a)},setContent:function(a,b){var b=!!b,d=this;a&&this.contentParsed.html("").append(a);if(!this.isAjaxLoading||b)this.$content.html(""),this.$content.append(this.contentParsed),setTimeout(function(){d.$body.find("input[autofocus]:visible:first").focus()},100)},loadingSpinner:!1,showLoading:function(a){this.loadingSpinner=!0;this.$jconfirmBox.addClass("loading");a&&this.$btnc.find("button").prop("disabled",!0)},hideLoading:function(a){this.loadingSpinner=
!1;this.$jconfirmBox.removeClass("loading");a&&this.$btnc.find("button").prop("disabled",!1)},ajaxResponse:!1,contentParsed:"",isAjax:!1,isAjaxLoading:!1,_parseContent:function(){var a=this;if("function"==typeof this.content){var c=this.content.apply(this);if("string"==typeof c)this.content=c;else{if("object"==typeof c&&"function"==typeof c.always)this.isAjaxLoading=this.isAjax=!0,c.always(function(b,c,f){a.ajaxResponse={data:b,status:c,xhr:f};a._contentReady.resolve(b,c,f);"function"==typeof a.contentLoaded&&
a.contentLoaded(b,c,f)});this.content="&nbsp;"}}if("string"==typeof this.content&&"url:"===this.content.substr(0,4).toLowerCase())this.isAjaxLoading=this.isAjax=!0,c=this.content.substring(4,this.content.length),b.get(c).done(function(b){a.contentParsed.html(b)}).always(function(b,c,f){a.ajaxResponse={data:b,status:c,xhr:f};a._contentReady.resolve(b,c,f);"function"==typeof a.contentLoaded&&a.contentLoaded(b,c,f)});if(!this.content)this.content="&nbsp;";this.isAjax||(this.contentParsed.html(this.content),
this.setContent(),a._contentReady.resolve())},_stopCountDown:function(){clearInterval(this.autoCloseInterval);this.$cd&&this.$cd.remove()},_startCountDown:function(){var a=this,c=this.autoClose.split("|");if(2!==c.length)return console.error("Invalid option for autoClose. example 'close|10000'"),!1;var d=c[0],c=parseInt(c[1]);if("undefined"===typeof this.buttons[d])return console.error("Invalid button key '"+d+"' for autoClose"),!1;var e=Math.ceil(c/1E3);this.$cd=b('<span class="countdown"> ('+e+
")</span>").appendTo(this["$_"+d]);this.autoCloseInterval=setInterval(function(){a.$cd.html(" ("+(e-=1)+") ");0>=e&&(a["$$"+d].trigger("click"),a._stopCountDown())},1E3)},_getKey:function(a){switch(a){case 192:return"tilde";case 13:return"enter";case 16:return"shift";case 9:return"tab";case 20:return"capslock";case 17:return"ctrl";case 91:return"win";case 18:return"alt";case 27:return"esc";case 32:return"space"}a=String.fromCharCode(a);return/^[A-z0-9]+$/.test(a)?a.toLowerCase():!1},reactOnKey:function(a){var c=
this,d=b(".jconfirm");if(d.eq(d.length-1)[0]!==this.$el[0])return!1;a=a.which;if(this.$content.find(":input").is(":focus")&&/13|32/.test(a))return!1;var e=this._getKey(a);if("esc"===e&&this.escapeKey)if(!0===this.escapeKey)this.$scrollPane.trigger("click");else if("string"===typeof this.escapeKey||"function"===typeof this.escapeKey)(a="function"===typeof this.escapeKey?this.escapeKey():this.escapeKey)&&("undefined"===typeof this.buttons[a]?console.warn("Invalid escapeKey, no buttons found with key "+
a):this["$_"+a].trigger("click"));b.each(this.buttons,function(a,b){-1!=b.keys.indexOf(e)&&c["$_"+a].trigger("click")})},setDialogCenter:function(){console.info("setDialogCenter is deprecated, dialogs are centered with CSS3 tables")},_unwatchContent:function(){clearInterval(this._timer)},close:function(){var a=this;if("function"===typeof this.onClose)this.onClose();this._unwatchContent();b(f).unbind("resize."+this._id);b(f).unbind("keyup."+this._id);b(f).unbind("jcKeyDown."+this._id);this.draggable&&
(b(f).unbind("mousemove."+this._id),b(f).unbind("mouseup."+this._id),this.$titleContainer.unbind("mousedown"));a.$el.removeClass(a.loadedClass);b("body").removeClass("jconfirm-no-scroll-"+a._id);a.$jconfirmBoxContainer.removeClass("jconfirm-no-transition");setTimeout(function(){a.$body.addClass(a.closeAnimationParsed);a.$jconfirmBg.addClass("jconfirm-bg-h");setTimeout(function(){a.$el.remove();for(var c=jconfirm.instances.length-1;0<=c;c--)jconfirm.instances[c]._id===a._id&&jconfirm.instances.splice(c,
1);if(!jconfirm.instances.length&&a.scrollToPreviousElement&&jconfirm.lastFocused&&jconfirm.lastFocused.length&&b.contains(document,jconfirm.lastFocused[0])){var d=jconfirm.lastFocused;if(a.scrollToPreviousElementAnimate){var c=b(f).scrollTop(),e=jconfirm.lastFocused.offset().top,g=b(f).height();e>c&&e<c+g?d.focus():(c=e-Math.round(g/3),b("html, body").animate({scrollTop:c},a.animationSpeed,"swing",function(){d.focus()}))}else d.focus();jconfirm.lastFocused=!1}if("function"===typeof a.onDestroy)a.onDestroy()},
0.4*("none"===a.closeAnimation?1:a.animationSpeed))},50);return!0},open:function(){if(this.isOpen())return!1;this._buildHTML();this._bindEvents();this._open();return!0},setStartingPoint:function(){var a=!1;if(!0!==this.animateFromElement&&this.animateFromElement)a=this.animateFromElement,jconfirm.lastClicked=!1;else if(jconfirm.lastClicked&&!0===this.animateFromElement)a=jconfirm.lastClicked,jconfirm.lastClicked=!1;else return!1;if(!a)return!1;var c=a.offset(),d=a.outerHeight()/2,a=a.outerWidth()/
2,d=d-this.$jconfirmBox.outerHeight()/2,a=a-this.$jconfirmBox.outerWidth()/2,d=c.top+d,d=d-this._scrollTop(),c=c.left+a,a=b(f).height()/2,e=b(f).width()/2,g=a-this.$jconfirmBox.outerHeight()/2,h=e-this.$jconfirmBox.outerWidth()/2,d=d-g,c=c-h;if(Math.abs(d)>a||Math.abs(c)>e)return!1;this.$jconfirmBoxContainer.css("transform","translate("+c+"px, "+d+"px)")},_open:function(){var a=this;if("function"===typeof a.onOpenBefore)a.onOpenBefore();this.$body.removeClass(this.animationParsed);this.$jconfirmBg.removeClass("jconfirm-bg-h");
this.$body.focus();a.$jconfirmBoxContainer.css("transform","translate(0px, 0px)");setTimeout(function(){a.$body.css(a._getCSS(a.animationSpeed,1));a.$body.css({"transition-property":a.$body.css("transition-property")+", margin"});a.$jconfirmBoxContainer.addClass("jconfirm-no-transition");a._modalReady.resolve();if("function"===typeof a.onOpen)a.onOpen();a.$el.addClass(a.loadedClass)},this.animationSpeed)},loadedClass:"jconfirm-open",isClosed:function(){return!this.$el||""===this.$el.css("display")},
isOpen:function(){return!this.isClosed()},toggle:function(){this.isOpen()?this.close():this.open()}};jconfirm.instances=[];jconfirm.lastFocused=!1;jconfirm.pluginDefaults={template:'<div class="jconfirm"><div class="jconfirm-bg jconfirm-bg-h"></div><div class="jconfirm-scrollpane"><div class="jconfirm-row"><div class="jconfirm-cell"><div class="jconfirm-holder"><div class="jc-bs3-container"><div class="jc-bs3-row"><div class="jconfirm-box-container jconfirm-animated"><div class="jconfirm-box" role="dialog" aria-labelledby="labelled" tabindex="-1"><div class="jconfirm-closeIcon">&times;</div><div class="jconfirm-title-c"><span class="jconfirm-icon-c"></span><span class="jconfirm-title"></span></div><div class="jconfirm-content-pane"><div class="jconfirm-content"></div></div><div class="jconfirm-buttons"></div><div class="jconfirm-clear"></div></div></div></div></div></div></div></div></div></div>',
title:"Hello",titleClass:"",type:"default",typeAnimated:!0,draggable:!0,dragWindowGap:15,dragWindowBorder:!0,animateFromElement:!0,alignMiddle:!0,smoothContent:!0,content:"Are you sure to continue?",buttons:{},defaultButtons:{ok:{action:function(){}},close:{action:function(){}}},contentLoaded:function(){},icon:"",lazyOpen:!1,bgOpacity:null,theme:"light",animation:"scale",closeAnimation:"scale",animationSpeed:400,animationBounce:1,escapeKey:!0,rtl:!1,container:"body",containerFluid:!1,backgroundDismiss:!1,
backgroundDismissAnimation:"shake",autoClose:!1,closeIcon:null,closeIconClass:!1,watchInterval:100,columnClass:"col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1",boxWidth:"50%",scrollToPreviousElement:!0,scrollToPreviousElementAnimate:!0,useBootstrap:!0,offsetTop:40,offsetBottom:40,bootstrapClasses:{container:"container",containerFluid:"container-fluid",row:"row"},onContentReady:function(){},onOpenBefore:function(){},onOpen:function(){},onClose:function(){},onDestroy:function(){},
onAction:function(){}};var g=!1;b(f).on("keydown",function(a){if(!g){var c=!1;b(a.target).closest(".jconfirm-box").length&&(c=!0);c&&b(f).trigger("jcKeyDown");g=!0}});b(f).on("keyup",function(){g=!1});jconfirm.lastClicked=!1;b(document).on("mousedown","button, a",function(){jconfirm.lastClicked=b(this)})})(jQuery,window);
